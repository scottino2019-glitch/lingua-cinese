<!doctype html>
<html lang="it" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ê±âÂ≠óÊïÖ‰∫ã - Storie di Ideogrammi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        .chinese-char {
            font-family: 'KaiTi', 'SimSun', 'Microsoft YaHei', serif;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .bamboo-pattern {
            background-image: 
                linear-gradient(45deg, rgba(34, 197, 94, 0.1) 25%, transparent 25%),
                linear-gradient(-45deg, rgba(34, 197, 94, 0.1) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, rgba(34, 197, 94, 0.1) 75%),
                linear-gradient(-45deg, transparent 75%, rgba(34, 197, 94, 0.1) 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .dragon-border {
            border-image: linear-gradient(45deg, #dc2626, #f59e0b, #dc2626) 1;
        }
        .scroll-shadow {
            box-shadow: inset 0 0 20px rgba(220, 38, 38, 0.1);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
<button class="inline-flex items-center justify-center rounded-md px-4 py-2 text-base text-white font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 bg-gradient-to-r from-red-500 to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:transform active:scale-95"> <a href="caratteri_significato.html"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg></a></button>
 <body class="h-full bg-gradient-to-br from-red-50 via-yellow-50 to-orange-50 bamboo-pattern">
  <div class="min-h-full p-4">
   <div class="max-w-6xl mx-auto"><!-- Header con design cinese -->
    <header class="text-center mb-8 relative"> 
     <div class="bg-gradient-to-r from-red-600 to-yellow-600 text-white rounded-lg p-6 mb-4 dragon-border">
      <h1 id="app-title" class="text-4xl font-bold chinese-char mb-2">Ê±âÂ≠óÊïÖ‰∫ã</h1>
      <h2 class="text-xl mb-2">Storie di Ideogrammi</h2>
      <p id="subtitle" class="text-lg opacity-90">Scopri la storia millenaria dei caratteri cinesi</p>
     </div><!-- Decorazioni tradizionali -->
     <div class="flex justify-center space-x-4 text-2xl mb-4"><span>üêâ</span> <span>üèÆ</span> <span>üå∏</span> <span>üèØ</span> <span>üéã</span>
     </div>
    </header><!-- Barra di ricerca -->
    <div class="bg-white rounded-lg shadow-lg p-4 mb-6 scroll-shadow">
     <div class="relative"><input type="text" id="search-input" placeholder="Cerca un ideogramma..." class="w-full px-4 py-3 pl-12 text-lg border-2 border-red-200 rounded-lg focus:border-red-500 focus:outline-none chinese-char" oninput="filterIdeograms()">
      <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-red-400">
       üîç
      </div>
     </div>
    </div><!-- Categorie -->
    <div class="mb-6">
     <div class="flex flex-wrap justify-center gap-2 mb-4"><button onclick="filterByCategory('all')" class="category-btn active bg-red-600 text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> Tutti </button> <button onclick="filterByCategory('natura')" class="category-btn bg-green-100 text-green-800 hover:bg-green-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> üåø Natura </button> <button onclick="filterByCategory('animali')" class="category-btn bg-yellow-100 text-yellow-800 hover:bg-yellow-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> üêÖ Animali </button> <button onclick="filterByCategory('corpo')" class="category-btn bg-pink-100 text-pink-800 hover:bg-pink-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> üë§ Corpo </button> <button onclick="filterByCategory('casa')" class="category-btn bg-blue-100 text-blue-800 hover:bg-blue-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> üè† Casa </button> <button onclick="filterByCategory('numeri')" class="category-btn bg-purple-100 text-purple-800 hover:bg-purple-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> üî¢ Numeri </button>
     </div>
    </div><!-- Griglia degli ideogrammi -->
    <div id="ideograms-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Gli ideogrammi verranno inseriti qui -->
    </div><!-- Modal per dettagli -->
    <div id="ideogram-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
     <div class="bg-white rounded-lg max-w-2xl w-full max-h-full overflow-y-auto scroll-shadow">
      <div class="p-6">
       <div class="flex justify-between items-start mb-4">
        <div class="text-center flex-1">
         <div id="modal-character" class="text-8xl chinese-char text-red-600 mb-2"></div>
         <div id="modal-pinyin" class="text-xl text-gray-600 mb-1"></div>
         <div id="modal-meaning" class="text-lg font-semibold text-gray-800"></div>
        </div><button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">√ó</button>
       </div>
       <div class="border-t border-gray-200 pt-4">
        <h3 class="text-lg font-bold text-red-600 mb-3 flex items-center">üìú Storia e Origine</h3>
        <div id="modal-history" class="text-gray-700 leading-relaxed mb-4"></div>
        <h3 class="text-lg font-bold text-yellow-600 mb-3 flex items-center">üé® Evoluzione del Carattere</h3>
        <div id="modal-evolution" class="text-gray-700 leading-relaxed mb-4"></div>
        <h3 class="text-lg font-bold text-green-600 mb-3 flex items-center">üí° Curiosit√†</h3>
        <div id="modal-curiosity" class="text-gray-700 leading-relaxed"></div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Database degli ideogrammi con storia dettagliata
        const ideograms = [
            {
                character: '‰∫∫',
                pinyin: 'r√©n',
                meaning: 'persona, essere umano',
                category: 'corpo',
                history: 'Questo carattere rappresenta una persona vista di profilo. Le due linee rappresentano le gambe di una persona che cammina. √à uno dei caratteri pi√π antichi, risalente a oltre 3000 anni fa.',
                evolution: 'Nelle iscrizioni su ossa oracolari, il carattere assomigliava molto di pi√π a una figura umana stilizzata. Nel tempo si √® semplificato nelle due linee che vediamo oggi.',
                curiosity: '√à un radicale fondamentale usato in centinaia di altri caratteri. Quando appare a sinistra di un carattere (‰∫ª), si chiama "radicale della persona".'
            },
            {
                character: 'Â±±',
                pinyin: 'shƒÅn',
                meaning: 'montagna',
                category: 'natura',
                history: 'Rappresenta tre picchi montuosi. Nelle antiche scritture cinesi, questo carattere mostrava chiaramente tre montagne con le loro cime appuntite.',
                evolution: 'Originariamente aveva forme pi√π curve che ricordavano davvero delle montagne. La standardizzazione ha reso le linee pi√π geometriche.',
                curiosity: 'La Cina √® famosa per le sue montagne sacre. Questo carattere appare in molti nomi di montagne famose come Ê≥∞Â±± (T√†i ShƒÅn).'
            },
            {
                character: 'Ê∞¥',
                pinyin: 'shu«ê',
                meaning: 'acqua',
                category: 'natura',
                history: 'Rappresenta il flusso dell\'acqua. Le linee curve imitano il movimento ondulatorio dell\'acqua che scorre.',
                evolution: 'Nelle forme antiche, le curve erano pi√π pronunciate e ricordavano davvero le onde. Come radicale (Ê∞µ), si semplifica in tre gocce.',
                curiosity: 'L\'acqua √® uno dei cinque elementi della filosofia cinese. Questo carattere √® presente in parole come Ê≤≥ (fiume) e Êµ∑ (mare).'
            },
            {
                character: 'ÁÅ´',
                pinyin: 'hu«í',
                meaning: 'fuoco',
                category: 'natura',
                history: 'Rappresenta le fiamme che si alzano verso l\'alto. La forma ricorda una fiamma con le sue lingue di fuoco che danzano.',
                evolution: 'Anticamente aveva pi√π "lingue" di fuoco. La versione moderna mantiene l\'essenza con quattro tratti che suggeriscono il movimento delle fiamme.',
                curiosity: '√à uno dei cinque elementi. Come radicale (ÁÅ¨), appare sotto molti caratteri legati al calore come ÁÉ≠ (caldo).'
            },
            {
                character: 'Êú®',
                pinyin: 'm√π',
                meaning: 'albero, legno',
                category: 'natura',
                history: 'Rappresenta un albero con il tronco, i rami e le radici. √à un pittogramma molto diretto che mostra la struttura di base di un albero.',
                evolution: 'Nelle forme antiche era ancora pi√π simile a un albero reale, con rami pi√π dettagliati. La semplificazione ha mantenuto l\'essenza.',
                curiosity: 'Due Êú® insieme (Êûó) significano "bosco", tre Êú® insieme (Ê£Æ) significano "foresta". √à la base per molti caratteri legati alle piante.'
            },
            {
                character: 'Êó•',
                pinyin: 'r√¨',
                meaning: 'sole, giorno',
                category: 'natura',
                history: 'Rappresenta il sole. Originariamente era un cerchio con un punto al centro, simboleggiando il disco solare.',
                evolution: 'Il cerchio si √® trasformato in un rettangolo per facilit√† di scrittura, ma il tratto centrale rappresenta ancora il nucleo del sole.',
                curiosity: '√à fondamentale per indicare il tempo: ‰ªäÊó• (oggi), ÊòéÊó• (domani). Appare anche nei giorni della settimana.'
            },
            {
                character: 'Êúà',
                pinyin: 'yu√®',
                meaning: 'luna, mese',
                category: 'natura',
                history: 'Rappresenta la luna crescente. La forma ricorda una mezzaluna nel cielo notturno.',
                evolution: 'Anticamente era pi√π curva e somigliava davvero a una falce di luna. La standardizzazione l\'ha resa pi√π angolare.',
                curiosity: '√à usato per i mesi dell\'anno e come radicale per parti del corpo (perch√© anticamente "carne" aveva forma simile).'
            },
            {
                character: 'Â§ß',
                pinyin: 'd√†',
                meaning: 'grande',
                category: 'corpo',
                history: 'Rappresenta una persona con le braccia e le gambe allargate per mostrare grandezza. √à un gesto universale per indicare "grande".',
                evolution: 'La forma √® rimasta molto stabile nel tempo, mantenendo l\'idea di una figura umana che si espande.',
                curiosity: '√à l\'opposto di Â∞è (piccolo). Appare in Â§ßÂ≠¶ (universit√†, letteralmente "grande studio").'
            },
            {
                character: 'Â∞è',
                pinyin: 'xi«éo',
                meaning: 'piccolo',
                category: 'corpo',
                history: 'Rappresenta qualcosa di diviso in parti piccole. I tre punti suggeriscono frammentazione o piccolezza.',
                evolution: 'La forma √® rimasta relativamente stabile, sempre suggerendo l\'idea di divisione in parti minute.',
                curiosity: '√à l\'opposto di Â§ß. Si usa per i bambini: Â∞èÂ≠© (bambino), e in molte espressioni di modestia.'
            },
            {
                character: 'ÂøÉ',
                pinyin: 'xƒ´n',
                meaning: 'cuore, mente',
                category: 'corpo',
                history: 'Rappresenta il cuore umano con le sue camere e vasi sanguigni. Gli antichi cinesi consideravano il cuore sede del pensiero.',
                evolution: 'Nelle forme antiche era pi√π dettagliato e anatomicamente riconoscibile. La semplificazione ha mantenuto l\'essenza.',
                curiosity: 'Come radicale (ÂøÑ), appare in caratteri legati alle emozioni: Âø´‰πê (felice), ÊÇ≤‰º§ (triste).'
            },
            {
                character: 'Êâã',
                pinyin: 'sh«íu',
                meaning: 'mano',
                category: 'corpo',
                history: 'Rappresenta una mano aperta con le dita. √à un pittogramma diretto che mostra la forma della mano umana.',
                evolution: 'Anticamente mostrava chiaramente cinque dita. La semplificazione ha ridotto i dettagli ma mantenuto l\'idea.',
                curiosity: 'Come radicale (Êâå), appare in azioni fatte con le mani: Êâì (colpire), Êãø (prendere).'
            },
            {
                character: 'Âè£',
                pinyin: 'k«íu',
                meaning: 'bocca',
                category: 'corpo',
                history: 'Rappresenta una bocca aperta. Il quadrato simboleggia l\'apertura della bocca vista frontalmente.',
                evolution: 'Originariamente era pi√π rotondo, come una bocca reale. La standardizzazione l\'ha resa quadrata.',
                curiosity: '√à usato per tutto ci√≤ che riguarda la bocca: parlare, mangiare, bere. Anche per contare persone in una famiglia.'
            },
            {
                character: 'ÁõÆ',
                pinyin: 'm√π',
                meaning: 'occhio',
                category: 'corpo',
                history: 'Rappresenta un occhio umano visto frontalmente. Le linee orizzontali rappresentano le palpebre, quella verticale la pupilla.',
                evolution: 'Anticamente era pi√π ovale e realistico. La forma moderna mantiene la struttura essenziale dell\'occhio.',
                curiosity: 'Come radicale, appare in caratteri legati alla vista: Áúã (guardare), Áù° (dormire).'
            },
            {
                character: 'ËÄ≥',
                pinyin: 'ƒõr',
                meaning: 'orecchio',
                category: 'corpo',
                history: 'Rappresenta la forma dell\'orecchio umano con tutti i suoi dettagli anatomici visibili di profilo.',
                evolution: '√à uno dei caratteri che ha mantenuto meglio la sua forma originale, ancora molto riconoscibile.',
                curiosity: 'Appare in caratteri legati all\'udito: Âê¨ (ascoltare), ËÅ™Êòé (intelligente, letteralmente "orecchie acute").'
            },
            {
                character: 'È©¨',
                pinyin: 'm«é',
                meaning: 'cavallo',
                category: 'animali',
                history: 'Rappresenta un cavallo di profilo con la criniera al vento. I cavalli erano fondamentali nella cultura cinese antica.',
                evolution: 'La forma tradizionale (È¶¨) era pi√π dettagliata. La semplificazione moderna ha mantenuto l\'essenza riducendo i tratti.',
                curiosity: 'Il cavallo √® uno dei 12 animali dello zodiaco cinese. Simboleggia velocit√† e nobilt√†.'
            },
            {
                character: 'Áâõ',
                pinyin: 'ni√∫',
                meaning: 'bue, mucca',
                category: 'animali',
                history: 'Rappresenta la testa di un bue con le corna prominenti. Il bue era essenziale per l\'agricoltura cinese.',
                evolution: 'Le corna erano originariamente pi√π curve e realistiche. La forma moderna √® pi√π stilizzata.',
                curiosity: '√à il secondo animale dello zodiaco cinese. Simboleggia forza, determinazione e lavoro duro.'
            },
            {
                character: 'È±º',
                pinyin: 'y√∫',
                meaning: 'pesce',
                category: 'animali',
                history: 'Rappresenta un pesce con la testa, il corpo e la coda. La forma tradizionale (È≠ö) mostra anche le squame.',
                evolution: 'La semplificazione ha ridotto molto i dettagli, ma mantiene la forma base del pesce.',
                curiosity: 'Il pesce simboleggia abbondanza in Cina. Durante il Capodanno cinese √® tradizione mangiare pesce.'
            },
            {
                character: 'È∏ü',
                pinyin: 'ni«éo',
                meaning: 'uccello',
                category: 'animali',
                history: 'Rappresenta un uccello con il becco, il corpo e la coda. La forma tradizionale (È≥•) include anche le zampe.',
                evolution: 'La semplificazione ha eliminato molti dettagli, ma la forma generale rimane riconoscibile.',
                curiosity: 'Gli uccelli hanno grande significato nella cultura cinese, spesso simboleggiando libert√† e messaggi divini.'
            },
            {
                character: 'Ëôé',
                pinyin: 'h«î',
                meaning: 'tigre',
                category: 'animali',
                history: 'Rappresenta una tigre con le sue caratteristiche strisce. La tigre √® considerata il re degli animali in Cina.',
                evolution: 'Il carattere ha mantenuto la sua complessit√† per rappresentare la maestosit√† dell\'animale.',
                curiosity: '√à uno dei 12 animali dello zodiaco. La tigre simboleggia coraggio, potere e protezione dal male.'
            },
            {
                character: 'Èæô',
                pinyin: 'l√≥ng',
                meaning: 'drago',
                category: 'animali',
                history: 'Rappresenta il drago mitologico cinese. La forma tradizionale (Èæç) √® molto pi√π complessa e dettagliata.',
                evolution: 'La semplificazione ha ridotto drasticamente la complessit√†, ma mantiene l\'idea del drago.',
                curiosity: 'Il drago √® il simbolo pi√π importante della cultura cinese, rappresentando potere imperiale e buona fortuna.'
            },
            {
                character: 'ÂÆ∂',
                pinyin: 'jiƒÅ',
                meaning: 'casa, famiglia',
                category: 'casa',
                history: 'Combina "tetto" (ÂÆÄ) e "maiale" (Ë±ï). Anticamente, avere un maiale sotto il tetto significava prosperit√†.',
                evolution: 'La combinazione √® rimasta stabile, simboleggiando l\'idea di casa come luogo di abbondanza.',
                curiosity: '√à fondamentale nella cultura cinese. La famiglia √® il valore pi√π importante nella societ√† cinese tradizionale.'
            },
            {
                character: 'Èó®',
                pinyin: 'm√©n',
                meaning: 'porta, cancello',
                category: 'casa',
                history: 'Rappresenta una porta a due battenti vista frontalmente. La forma tradizionale (ÈñÄ) mostra chiaramente i due pannelli.',
                evolution: 'La semplificazione ha ridotto la forma ma mantiene l\'idea di apertura.',
                curiosity: 'Simboleggia opportunit√† e passaggi nella vita. "Aprire una porta" significa creare opportunit√†.'
            },
            {
                character: 'Á™ó',
                pinyin: 'chuƒÅng',
                meaning: 'finestra',
                category: 'casa',
                history: 'Combina "buco" e "cuore", rappresentando un\'apertura che permette alla luce di entrare nel cuore della casa.',
                evolution: 'Il carattere √® relativamente moderno rispetto ad altri, sviluppato quando le finestre divennero comuni.',
                curiosity: 'Le finestre tradizionali cinesi spesso avevano forme decorative e simboliche, non solo funzionali.'
            },
            {
                character: 'Â∫ä',
                pinyin: 'chu√°ng',
                meaning: 'letto',
                category: 'casa',
                history: 'Combina "legno" e altri elementi per rappresentare un mobile fatto di legno per dormire.',
                evolution: 'La forma si √® stabilizzata quando i letti divennero mobili comuni nelle case cinesi.',
                curiosity: 'I letti tradizionali cinesi erano spesso piattaforme rialzate con significati simbolici di status.'
            },
            {
                character: 'Ê°å',
                pinyin: 'zhu≈ç',
                meaning: 'tavolo',
                category: 'casa',
                history: 'Combina "legno" con altri elementi per rappresentare un mobile di legno per mangiare o lavorare.',
                evolution: 'Si √® sviluppato quando i tavoli divennero centrali nella vita domestica cinese.',
                curiosity: 'Il tavolo rotondo √® simbolo di unit√† familiare nella cultura cinese, senza "capotavola".'
            },
            {
                character: '‰∏Ä',
                pinyin: 'yƒ´',
                meaning: 'uno',
                category: 'numeri',
                history: 'Una semplice linea orizzontale rappresenta l\'unit√†, il primo numero, l\'inizio di tutto.',
                evolution: '√à rimasto identico per millenni, essendo la rappresentazione pi√π semplice possibile.',
                curiosity: '√à il numero pi√π semplice ma filosoficamente profondo: rappresenta l\'unit√† primordiale da cui tutto nasce.'
            },
            {
                character: '‰∫å',
                pinyin: '√®r',
                meaning: 'due',
                category: 'numeri',
                history: 'Due linee orizzontali rappresentano la dualit√†, il secondo numero, la divisione dell\'unit√†.',
                evolution: 'Anche questo √® rimasto invariato, mantenendo la sua semplicit√† essenziale.',
                curiosity: 'Rappresenta la dualit√† fondamentale: yin e yang, cielo e terra, maschile e femminile.'
            },
            {
                character: '‰∏â',
                pinyin: 'sƒÅn',
                meaning: 'tre',
                category: 'numeri',
                history: 'Tre linee orizzontali. Il tre √® considerato un numero perfetto nella cultura cinese.',
                evolution: 'Forma rimasta identica, simboleggiando completezza e perfezione.',
                curiosity: 'Nella filosofia cinese, il tre rappresenta la sintesi: dalla dualit√† nasce il terzo elemento che completa.'
            },
            {
                character: 'Âõõ',
                pinyin: 's√¨',
                meaning: 'quattro',
                category: 'numeri',
                history: 'Rappresenta quattro direzioni o quattro elementi racchiusi in un perimetro.',
                evolution: 'La forma si √® stabilizzata per rappresentare completezza spaziale.',
                curiosity: 'Considerato sfortunato perch√© suona simile a "morte" (Ê≠ª). Molti edifici non hanno il quarto piano.'
            },
            {
                character: '‰∫î',
                pinyin: 'w«î',
                meaning: 'cinque',
                category: 'numeri',
                history: 'Rappresenta i cinque elementi della filosofia cinese: legno, fuoco, terra, metallo, acqua.',
                evolution: 'La forma simboleggia l\'equilibrio e l\'armonia dei cinque elementi.',
                curiosity: 'Numero molto importante: cinque elementi, cinque direzioni (incluso il centro), cinque sapori.'
            }
        ];

        let filteredIdeograms = [...ideograms];
        let currentCategory = 'all';

        // SDK Configuration
        const defaultConfig = {
            app_title: 'Ê±âÂ≠óÊïÖ‰∫ã - Storie di Ideogrammi',
            subtitle: 'Scopri la storia millenaria dei caratteri cinesi',
            search_placeholder: 'Cerca un ideogramma...',
            primary_color: '#dc2626',
            secondary_color: '#f59e0b',
            surface_color: '#ffffff',
            text_color: '#374151',
            accent_color: '#22c55e'
        };

        let config = { ...defaultConfig };

        // Initialize Element SDK
        async function initializeApp() {
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (newConfig) => {
                        config = { ...newConfig };
                        updateUIFromConfig();
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.primary_color || defaultConfig.primary_color,
                                set: (value) => {
                                    config.primary_color = value;
                                    window.elementSdk.setConfig({ primary_color: value });
                                }
                            },
                            {
                                get: () => config.secondary_color || defaultConfig.secondary_color,
                                set: (value) => {
                                    config.secondary_color = value;
                                    window.elementSdk.setConfig({ secondary_color: value });
                                }
                            },
                            {
                                get: () => config.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    config.surface_color = value;
                                    window.elementSdk.setConfig({ surface_color: value });
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    config.text_color = value;
                                    window.elementSdk.setConfig({ text_color: value });
                                }
                            },
                            {
                                get: () => config.accent_color || defaultConfig.accent_color,
                                set: (value) => {
                                    config.accent_color = value;
                                    window.elementSdk.setConfig({ accent_color: value });
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ['app_title', config.app_title || defaultConfig.app_title],
                        ['subtitle', config.subtitle || defaultConfig.subtitle],
                        ['search_placeholder', config.search_placeholder || defaultConfig.search_placeholder]
                    ])
                });
            }

            updateUIFromConfig();
            renderIdeograms();
        }

        function updateUIFromConfig() {
            document.getElementById('app-title').textContent = config.app_title || defaultConfig.app_title;
            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('search-input').placeholder = config.search_placeholder || defaultConfig.search_placeholder;

            // Apply colors
            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;

            // Update header gradient
            document.querySelector('header .bg-gradient-to-r').style.background = 
                `linear-gradient(to right, ${primaryColor}, ${secondaryColor})`;

            // Update surface colors
            document.querySelectorAll('.bg-white').forEach(el => {
                el.style.backgroundColor = surfaceColor;
            });

            // Update text colors
            document.querySelectorAll('.text-gray-800, .text-gray-700, .text-gray-600').forEach(el => {
                el.style.color = textColor;
            });
        }

        function renderIdeograms() {
            const grid = document.getElementById('ideograms-grid');
            grid.innerHTML = '';

            filteredIdeograms.forEach(ideogram => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-lg p-6 card-hover cursor-pointer fade-in scroll-shadow';
                card.onclick = () => openModal(ideogram);

                const categoryColors = {
                    natura: 'bg-green-100 text-green-800',
                    animali: 'bg-yellow-100 text-yellow-800',
                    corpo: 'bg-pink-100 text-pink-800',
                    casa: 'bg-blue-100 text-blue-800',
                    numeri: 'bg-purple-100 text-purple-800'
                };

                card.innerHTML = `
                    <div class="text-center">
                        <div class="text-6xl chinese-char mb-3 text-red-600">${ideogram.character}</div>
                        <div class="text-lg text-gray-600 mb-2">${ideogram.pinyin}</div>
                        <div class="text-lg font-semibold text-gray-800 mb-3">${ideogram.meaning}</div>
                        <div class="inline-block px-3 py-1 rounded-full text-xs font-medium ${categoryColors[ideogram.category] || 'bg-gray-100 text-gray-800'}">
                            ${getCategoryEmoji(ideogram.category)} ${getCategoryName(ideogram.category)}
                        </div>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        function getCategoryEmoji(category) {
            const emojis = {
                natura: 'üåø',
                animali: 'üêÖ',
                corpo: 'üë§',
                casa: 'üè†',
                numeri: 'üî¢'
            };
            return emojis[category] || 'üìù';
        }

        function getCategoryName(category) {
            const names = {
                natura: 'Natura',
                animali: 'Animali',
                corpo: 'Corpo',
                casa: 'Casa',
                numeri: 'Numeri'
            };
            return names[category] || 'Altro';
        }

        function filterByCategory(category) {
            currentCategory = category;
            
            // Update button styles
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-red-600', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
            });
            
            event.target.classList.remove('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
            event.target.classList.add('active', 'bg-red-600', 'text-white');

            if (category === 'all') {
                filteredIdeograms = [...ideograms];
            } else {
                filteredIdeograms = ideograms.filter(ideogram => ideogram.category === category);
            }

            renderIdeograms();
        }

        function filterIdeograms() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            
            let baseIdeograms = currentCategory === 'all' ? ideograms : 
                ideograms.filter(ideogram => ideogram.category === currentCategory);

            if (searchTerm) {
                filteredIdeograms = baseIdeograms.filter(ideogram =>
                    ideogram.character.includes(searchTerm) ||
                    ideogram.pinyin.toLowerCase().includes(searchTerm) ||
                    ideogram.meaning.toLowerCase().includes(searchTerm)
                );
            } else {
                filteredIdeograms = baseIdeograms;
            }

            renderIdeograms();
        }

        function openModal(ideogram) {
            document.getElementById('modal-character').textContent = ideogram.character;
            document.getElementById('modal-pinyin').textContent = ideogram.pinyin;
            document.getElementById('modal-meaning').textContent = ideogram.meaning;
            document.getElementById('modal-history').textContent = ideogram.history;
            document.getElementById('modal-evolution').textContent = ideogram.evolution;
            document.getElementById('modal-curiosity').textContent = ideogram.curiosity;
            
            document.getElementById('ideogram-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('ideogram-modal').classList.add('hidden');
        }

        // Close modal when clicking outside
        document.getElementById('ideogram-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9956264d225fed90',t:'MTc2MTYwOTU5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>