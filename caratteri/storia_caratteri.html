<!doctype html>
<html lang="it" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>汉字故事 - Storie di Ideogrammi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        .chinese-char {
            font-family: 'KaiTi', 'SimSun', 'Microsoft YaHei', serif;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .bamboo-pattern {
            background-image: 
                linear-gradient(45deg, rgba(34, 197, 94, 0.1) 25%, transparent 25%),
                linear-gradient(-45deg, rgba(34, 197, 94, 0.1) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, rgba(34, 197, 94, 0.1) 75%),
                linear-gradient(-45deg, transparent 75%, rgba(34, 197, 94, 0.1) 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .dragon-border {
            border-image: linear-gradient(45deg, #dc2626, #f59e0b, #dc2626) 1;
        }
        .scroll-shadow {
            box-shadow: inset 0 0 20px rgba(220, 38, 38, 0.1);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
<button class="inline-flex items-center justify-center rounded-md px-4 py-2 text-base text-white font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 bg-gradient-to-r from-red-500 to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:transform active:scale-95"> <a href="caratteri_significato.html"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg></a></button>
 <body class="h-full bg-gradient-to-br from-red-50 via-yellow-50 to-orange-50 bamboo-pattern">
  <div class="min-h-full p-4">
   <div class="max-w-6xl mx-auto"><!-- Header con design cinese -->
    <header class="text-center mb-8 relative"> 
     <div class="bg-gradient-to-r from-red-600 to-yellow-600 text-white rounded-lg p-6 mb-4 dragon-border">
      <h1 id="app-title" class="text-4xl font-bold chinese-char mb-2">汉字故事</h1>
      <h2 class="text-xl mb-2">Storie di Ideogrammi</h2>
      <p id="subtitle" class="text-lg opacity-90">Scopri la storia millenaria dei caratteri cinesi</p>
     </div><!-- Decorazioni tradizionali -->
     <div class="flex justify-center space-x-4 text-2xl mb-4"><span>🐉</span> <span>🏮</span> <span>🌸</span> <span>🏯</span> <span>🎋</span>
     </div>
    </header><!-- Barra di ricerca -->
    <div class="bg-white rounded-lg shadow-lg p-4 mb-6 scroll-shadow">
     <div class="relative"><input type="text" id="search-input" placeholder="Cerca un ideogramma..." class="w-full px-4 py-3 pl-12 text-lg border-2 border-red-200 rounded-lg focus:border-red-500 focus:outline-none chinese-char" oninput="filterIdeograms()">
      <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-red-400">
       🔍
      </div>
     </div>
    </div><!-- Categorie -->
    <div class="mb-6">
     <div class="flex flex-wrap justify-center gap-2 mb-4"><button onclick="filterByCategory('all')" class="category-btn active bg-red-600 text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> Tutti </button> <button onclick="filterByCategory('natura')" class="category-btn bg-green-100 text-green-800 hover:bg-green-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> 🌿 Natura </button> <button onclick="filterByCategory('animali')" class="category-btn bg-yellow-100 text-yellow-800 hover:bg-yellow-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> 🐅 Animali </button> <button onclick="filterByCategory('corpo')" class="category-btn bg-pink-100 text-pink-800 hover:bg-pink-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> 👤 Corpo </button> <button onclick="filterByCategory('casa')" class="category-btn bg-blue-100 text-blue-800 hover:bg-blue-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> 🏠 Casa </button> <button onclick="filterByCategory('oggetti')" class="category-btn bg-blue-100 text-blue-800 hover:bg-blue-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200">📒 Oggetti</button>
<button onclick="filterByCategory('cibo')" class="category-btn bg-blue-100 text-blue-800 hover:bg-blue-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200">🥡Cibo</button>
<button onclick="filterByCategory('numeri')" class="category-btn bg-purple-100 text-purple-800 hover:bg-purple-200 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200"> 🔢 Numeri </button>
     </div>
    </div><!-- Griglia degli ideogrammi -->
    <div id="ideograms-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- Gli ideogrammi verranno inseriti qui -->
    </div><!-- Modal per dettagli -->
    <div id="ideogram-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
     <div class="bg-white rounded-lg max-w-2xl w-full max-h-full overflow-y-auto scroll-shadow">
      <div class="p-6">
       <div class="flex justify-between items-start mb-4">
        <div class="text-center flex-1">
         <div id="modal-character" class="text-8xl chinese-char text-red-600 mb-2"></div>
         <div id="modal-pinyin" class="text-xl text-gray-600 mb-1"></div>
         <div id="modal-meaning" class="text-lg font-semibold text-gray-800"></div>
        </div><button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">×</button>
       </div>
       <div class="border-t border-gray-200 pt-4">
        <h3 class="text-lg font-bold text-red-600 mb-3 flex items-center">📜 Storia e Origine</h3>
        <div id="modal-history" class="text-gray-700 leading-relaxed mb-4"></div>
        <h3 class="text-lg font-bold text-yellow-600 mb-3 flex items-center">🎨 Evoluzione del Carattere</h3>
        <div id="modal-evolution" class="text-gray-700 leading-relaxed mb-4"></div>
        <h3 class="text-lg font-bold text-green-600 mb-3 flex items-center">💡 Curiosità</h3>
        <div id="modal-curiosity" class="text-gray-700 leading-relaxed"></div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Database degli ideogrammi con storia dettagliata
        const ideograms = [
            {
                character: '人',
                pinyin: 'rén',
                meaning: 'persona, essere umano',
                category: 'corpo',
                history: 'Questo carattere rappresenta una persona vista di profilo. Le due linee rappresentano le gambe di una persona che cammina. È uno dei caratteri più antichi, risalente a oltre 3000 anni fa.',
                evolution: 'Nelle iscrizioni su ossa oracolari, il carattere assomigliava molto di più a una figura umana stilizzata. Nel tempo si è semplificato nelle due linee che vediamo oggi.',
                curiosity: 'È un radicale fondamentale usato in centinaia di altri caratteri. Quando appare a sinistra di un carattere (亻), si chiama "radicale della persona".'
            },
            {
                character: '山',
                pinyin: 'shān',
                meaning: 'montagna',
                category: 'natura',
                history: 'Rappresenta tre picchi montuosi. Nelle antiche scritture cinesi, questo carattere mostrava chiaramente tre montagne con le loro cime appuntite.',
                evolution: 'Originariamente aveva forme più curve che ricordavano davvero delle montagne. La standardizzazione ha reso le linee più geometriche.',
                curiosity: 'La Cina è famosa per le sue montagne sacre. Questo carattere appare in molti nomi di montagne famose come 泰山 (Tài Shān).'
            },
            {
                character: '水',
                pinyin: 'shuǐ',
                meaning: 'acqua',
                category: 'natura',
                history: 'Rappresenta il flusso dell\'acqua. Le linee curve imitano il movimento ondulatorio dell\'acqua che scorre.',
                evolution: 'Nelle forme antiche, le curve erano più pronunciate e ricordavano davvero le onde. Come radicale (氵), si semplifica in tre gocce.',
                curiosity: 'L\'acqua è uno dei cinque elementi della filosofia cinese. Questo carattere è presente in parole come 河 (fiume) e 海 (mare).'
            },
            {
                character: '火',
                pinyin: 'huǒ',
                meaning: 'fuoco',
                category: 'natura',
                history: 'Rappresenta le fiamme che si alzano verso l\'alto. La forma ricorda una fiamma con le sue lingue di fuoco che danzano.',
                evolution: 'Anticamente aveva più "lingue" di fuoco. La versione moderna mantiene l\'essenza con quattro tratti che suggeriscono il movimento delle fiamme.',
                curiosity: 'È uno dei cinque elementi. Come radicale (灬), appare sotto molti caratteri legati al calore come 热 (caldo).'
            },
            {
                character: '木',
                pinyin: 'mù',
                meaning: 'albero, legno',
                category: 'natura',
                history: 'Rappresenta un albero con il tronco, i rami e le radici. È un pittogramma molto diretto che mostra la struttura di base di un albero.',
                evolution: 'Nelle forme antiche era ancora più simile a un albero reale, con rami più dettagliati. La semplificazione ha mantenuto l\'essenza.',
                curiosity: 'Due 木 insieme (林) significano "bosco", tre 木 insieme (森) significano "foresta". È la base per molti caratteri legati alle piante.'
            },
            {
                character: '日',
                pinyin: 'rì',
                meaning: 'sole, giorno',
                category: 'natura',
                history: 'Rappresenta il sole. Originariamente era un cerchio con un punto al centro, simboleggiando il disco solare.',
                evolution: 'Il cerchio si è trasformato in un rettangolo per facilità di scrittura, ma il tratto centrale rappresenta ancora il nucleo del sole.',
                curiosity: 'È fondamentale per indicare il tempo: 今日 (oggi), 明日 (domani). Appare anche nei giorni della settimana.'
            },
            {
                character: '月',
                pinyin: 'yuè',
                meaning: 'luna, mese',
                category: 'natura',
                history: 'Rappresenta la luna crescente. La forma ricorda una mezzaluna nel cielo notturno.',
                evolution: 'Anticamente era più curva e somigliava davvero a una falce di luna. La standardizzazione l\'ha resa più angolare.',
                curiosity: 'È usato per i mesi dell\'anno e come radicale per parti del corpo (perché anticamente "carne" aveva forma simile).'
            },
            {
                character: '大',
                pinyin: 'dà',
                meaning: 'grande',
                category: 'corpo',
                history: 'Rappresenta una persona con le braccia e le gambe allargate per mostrare grandezza. È un gesto universale per indicare "grande".',
                evolution: 'La forma è rimasta molto stabile nel tempo, mantenendo l\'idea di una figura umana che si espande.',
                curiosity: 'È l\'opposto di 小 (piccolo). Appare in 大学 (università, letteralmente "grande studio").'
            },
            {
                character: '小',
                pinyin: 'xiǎo',
                meaning: 'piccolo',
                category: 'corpo',
                history: 'Rappresenta qualcosa di diviso in parti piccole. I tre punti suggeriscono frammentazione o piccolezza.',
                evolution: 'La forma è rimasta relativamente stabile, sempre suggerendo l\'idea di divisione in parti minute.',
                curiosity: 'È l\'opposto di 大. Si usa per i bambini: 小孩 (bambino), e in molte espressioni di modestia.'
            },
            {
                character: '心',
                pinyin: 'xīn',
                meaning: 'cuore, mente',
                category: 'corpo',
                history: 'Rappresenta il cuore umano con le sue camere e vasi sanguigni. Gli antichi cinesi consideravano il cuore sede del pensiero.',
                evolution: 'Nelle forme antiche era più dettagliato e anatomicamente riconoscibile. La semplificazione ha mantenuto l\'essenza.',
                curiosity: 'Come radicale (忄), appare in caratteri legati alle emozioni: 快乐 (felice), 悲伤 (triste).'
            },
            {
                character: '手',
                pinyin: 'shǒu',
                meaning: 'mano',
                category: 'corpo',
                history: 'Rappresenta una mano aperta con le dita. È un pittogramma diretto che mostra la forma della mano umana.',
                evolution: 'Anticamente mostrava chiaramente cinque dita. La semplificazione ha ridotto i dettagli ma mantenuto l\'idea.',
                curiosity: 'Come radicale (扌), appare in azioni fatte con le mani: 打 (colpire), 拿 (prendere).'
            },
            {
                character: '口',
                pinyin: 'kǒu',
                meaning: 'bocca',
                category: 'corpo',
                history: 'Rappresenta una bocca aperta. Il quadrato simboleggia l\'apertura della bocca vista frontalmente.',
                evolution: 'Originariamente era più rotondo, come una bocca reale. La standardizzazione l\'ha resa quadrata.',
                curiosity: 'È usato per tutto ciò che riguarda la bocca: parlare, mangiare, bere. Anche per contare persone in una famiglia.'
            },
            {
                character: '目',
                pinyin: 'mù',
                meaning: 'occhio',
                category: 'corpo',
                history: 'Rappresenta un occhio umano visto frontalmente. Le linee orizzontali rappresentano le palpebre, quella verticale la pupilla.',
                evolution: 'Anticamente era più ovale e realistico. La forma moderna mantiene la struttura essenziale dell\'occhio.',
                curiosity: 'Come radicale, appare in caratteri legati alla vista: 看 (guardare), 睡 (dormire).'
            },
            {
                character: '耳',
                pinyin: 'ěr',
                meaning: 'orecchio',
                category: 'corpo',
                history: 'Rappresenta la forma dell\'orecchio umano con tutti i suoi dettagli anatomici visibili di profilo.',
                evolution: 'È uno dei caratteri che ha mantenuto meglio la sua forma originale, ancora molto riconoscibile.',
                curiosity: 'Appare in caratteri legati all\'udito: 听 (ascoltare), 聪明 (intelligente, letteralmente "orecchie acute").'
            },
            {
                character: '马',
                pinyin: 'mǎ',
                meaning: 'cavallo',
                category: 'animali',
                history: 'Rappresenta un cavallo di profilo con la criniera al vento. I cavalli erano fondamentali nella cultura cinese antica.',
                evolution: 'La forma tradizionale (馬) era più dettagliata. La semplificazione moderna ha mantenuto l\'essenza riducendo i tratti.',
                curiosity: 'Il cavallo è uno dei 12 animali dello zodiaco cinese. Simboleggia velocità e nobiltà.'
            },
            {
                character: '牛',
                pinyin: 'niú',
                meaning: 'bue, mucca',
                category: 'animali',
                history: 'Rappresenta la testa di un bue con le corna prominenti. Il bue era essenziale per l\'agricoltura cinese.',
                evolution: 'Le corna erano originariamente più curve e realistiche. La forma moderna è più stilizzata.',
                curiosity: 'È il secondo animale dello zodiaco cinese. Simboleggia forza, determinazione e lavoro duro.'
            },
            {
                character: '鱼',
                pinyin: 'yú',
                meaning: 'pesce',
                category: 'animali',
                history: 'Rappresenta un pesce con la testa, il corpo e la coda. La forma tradizionale (魚) mostra anche le squame.',
                evolution: 'La semplificazione ha ridotto molto i dettagli, ma mantiene la forma base del pesce.',
                curiosity: 'Il pesce simboleggia abbondanza in Cina. Durante il Capodanno cinese è tradizione mangiare pesce.'
            },
            {
                character: '鸟',
                pinyin: 'niǎo',
                meaning: 'uccello',
                category: 'animali',
                history: 'Rappresenta un uccello con il becco, il corpo e la coda. La forma tradizionale (鳥) include anche le zampe.',
                evolution: 'La semplificazione ha eliminato molti dettagli, ma la forma generale rimane riconoscibile.',
                curiosity: 'Gli uccelli hanno grande significato nella cultura cinese, spesso simboleggiando libertà e messaggi divini.'
            },
            {
                character: '虎',
                pinyin: 'hǔ',
                meaning: 'tigre',
                category: 'animali',
                history: 'Rappresenta una tigre con le sue caratteristiche strisce. La tigre è considerata il re degli animali in Cina.',
                evolution: 'Il carattere ha mantenuto la sua complessità per rappresentare la maestosità dell\'animale.',
                curiosity: 'È uno dei 12 animali dello zodiaco. La tigre simboleggia coraggio, potere e protezione dal male.'
            },
            {
                character: '龙',
                pinyin: 'lóng',
                meaning: 'drago',
                category: 'animali',
                history: 'Rappresenta il drago mitologico cinese. La forma tradizionale (龍) è molto più complessa e dettagliata.',
                evolution: 'La semplificazione ha ridotto drasticamente la complessità, ma mantiene l\'idea del drago.',
                curiosity: 'Il drago è il simbolo più importante della cultura cinese, rappresentando potere imperiale e buona fortuna.'
            },
            {
                character: '家',
                pinyin: 'jiā',
                meaning: 'casa, famiglia',
                category: 'casa',
                history: 'Combina "tetto" (宀) e "maiale" (豕). Anticamente, avere un maiale sotto il tetto significava prosperità.',
                evolution: 'La combinazione è rimasta stabile, simboleggiando l\'idea di casa come luogo di abbondanza.',
                curiosity: 'È fondamentale nella cultura cinese. La famiglia è il valore più importante nella società cinese tradizionale.'
            },
            {
                character: '门',
                pinyin: 'mén',
                meaning: 'porta, cancello',
                category: 'casa',
                history: 'Rappresenta una porta a due battenti vista frontalmente. La forma tradizionale (門) mostra chiaramente i due pannelli.',
                evolution: 'La semplificazione ha ridotto la forma ma mantiene l\'idea di apertura.',
                curiosity: 'Simboleggia opportunità e passaggi nella vita. "Aprire una porta" significa creare opportunità.'
            },
            {
                character: '窗',
                pinyin: 'chuāng',
                meaning: 'finestra',
                category: 'casa',
                history: 'Combina "buco" e "cuore", rappresentando un\'apertura che permette alla luce di entrare nel cuore della casa.',
                evolution: 'Il carattere è relativamente moderno rispetto ad altri, sviluppato quando le finestre divennero comuni.',
                curiosity: 'Le finestre tradizionali cinesi spesso avevano forme decorative e simboliche, non solo funzionali.'
            },
            {
                character: '床',
                pinyin: 'chuáng',
                meaning: 'letto',
                category: 'casa',
                history: 'Combina "legno" e altri elementi per rappresentare un mobile fatto di legno per dormire.',
                evolution: 'La forma si è stabilizzata quando i letti divennero mobili comuni nelle case cinesi.',
                curiosity: 'I letti tradizionali cinesi erano spesso piattaforme rialzate con significati simbolici di status.'
            },
            {
                character: '桌',
                pinyin: 'zhuō',
                meaning: 'tavolo',
                category: 'casa',
                history: 'Combina "legno" con altri elementi per rappresentare un mobile di legno per mangiare o lavorare.',
                evolution: 'Si è sviluppato quando i tavoli divennero centrali nella vita domestica cinese.',
                curiosity: 'Il tavolo rotondo è simbolo di unità familiare nella cultura cinese, senza "capotavola".'
            },
            {
                character: '一',
                pinyin: 'yī',
                meaning: 'uno',
                category: 'numeri',
                history: 'Una semplice linea orizzontale rappresenta l\'unità, il primo numero, l\'inizio di tutto.',
                evolution: 'È rimasto identico per millenni, essendo la rappresentazione più semplice possibile.',
                curiosity: 'È il numero più semplice ma filosoficamente profondo: rappresenta l\'unità primordiale da cui tutto nasce.'
            },
            {
                character: '二',
                pinyin: 'èr',
                meaning: 'due',
                category: 'numeri',
                history: 'Due linee orizzontali rappresentano la dualità, il secondo numero, la divisione dell\'unità.',
                evolution: 'Anche questo è rimasto invariato, mantenendo la sua semplicità essenziale.',
                curiosity: 'Rappresenta la dualità fondamentale: yin e yang, cielo e terra, maschile e femminile.'
            },
            {
                character: '三',
                pinyin: 'sān',
                meaning: 'tre',
                category: 'numeri',
                history: 'Tre linee orizzontali. Il tre è considerato un numero perfetto nella cultura cinese.',
                evolution: 'Forma rimasta identica, simboleggiando completezza e perfezione.',
                curiosity: 'Nella filosofia cinese, il tre rappresenta la sintesi: dalla dualità nasce il terzo elemento che completa.'
            },
            {
                character: '四',
                pinyin: 'sì',
                meaning: 'quattro',
                category: 'numeri',
                history: 'Rappresenta quattro direzioni o quattro elementi racchiusi in un perimetro.',
                evolution: 'La forma si è stabilizzata per rappresentare completezza spaziale.',
                curiosity: 'Considerato sfortunato perché suona simile a "morte" (死). Molti edifici non hanno il quarto piano.'
            },
            {
                character: '五',
                pinyin: 'wǔ',
                meaning: 'cinque',
                category: 'numeri',
                history: 'Rappresenta i cinque elementi della filosofia cinese: legno, fuoco, terra, metallo, acqua.',
                evolution: 'La forma simboleggia l\'equilibrio e l\'armonia dei cinque elementi.',
                curiosity: 'Numero molto importante: cinque elementi, cinque direzioni (incluso il centro), cinque sapori.'
            },
{
    character: '田',
                pinyin: 'tián',
                meaning: 'campo',
               category: 'natura',
                history: 'Rappresenta la disposizione di un campo agricolo diviso in quattro parti. Era una vista dall’alto dei campi coltivati.',

evolution: 'Il carattere è rimasto sorprendentemente stabile nel tempo, con minime variazioni grafiche.',
curiosity: 'È un pittogramma chiaro e concreto. Appare in parole legate all’agricoltura come 农田 (campo coltivato).'
},
{
    character: '口',
                pinyin: 'kǒu',
                meaning: 'bocca/apertura',
               category: 'corpo',
                history: 'Originariamente rappresentava una bocca vista di fronte, simbolo di parola e nutrimento.',

evolution: 'La forma da ovale è diventata quadrata per semplicità grafica.',

curiosity: 'È usato come classificatore per persone e in parole come 吃 (mangiare), 说 (parlare).'
},
{
    character: '石',
                pinyin: 'shí',
                meaning: 'pietra/roccia',
               category: 'natura',
                history: 'Originariamente mostrava una pietra pesante o una roccia ai piedi di una montagna.',

evolution: 'La forma si è standardizzata mantenendo la componente di montagna nella parte superiore.',

curiosity: 'Simbolo di forza e stabilità. Appare in nomi propri e parole come 石头 (pietra).'
},
{
    character: '风',
                pinyin: 'fēng',
                meaning: 'vento',
               category: 'natura',
                history: 'Rappresentava un insetto dentro una sacca d’aria, simbolo del movimento invisibile del vento.',

evolution: 'La forma moderna è una versione semplificata di 風, ma mantiene l’essenza del significato.',

curiosity: 'Il vento simboleggia mutamento. Appare in parole come 台风 (tifone) e 风景 (paesaggio).'
},
{
    character: '云',
                 pinyin: 'yún',
                 meaning: 'nuvola',
                category: 'natura',
                 history: 'Originariamente raffigurava vapore o nebbia che si alzava verso il cielo.',

evolution: 'La forma si è semplificata da 雲, pur conservando l’idea di massa fluttuante.',

curiosity: 'Nella poesia cinese, le nuvole spesso rappresentano sogni o separazione.'
},
{
    character: '雨',
                pinyin: 'yǔ',
                meaning: 'pioggia',
               category: 'natura',
                history: 'Mostra gocce che cadono dal cielo all’interno di un contenitore, simbolo diretto della pioggia.',

evolution: 'Ha mantenuto la struttura a più “gocce” che cadono dall’alto.',

curiosity: 'Richiamo di fertilità e vita. Compare in parole come 下雨 (piovere) e 雨天 (giorno di pioggia).'
},
{
    character: '花',
                 pinyin: 'huā',
                 meaning: 'fiore',
                category: 'natura',
                 history: 'Combina “erba” (艹) sopra e il suono di “trasformazione” (化) sotto, rappresentando la fioritura.',

evolution: 'Ha conservato la parte erbacea in alto per identificare piante e fiori.',

curiosity: 'Simbolo di bellezza e rinascita. Appare in parole come 花园 (giardino).'
},
{
    character: '鸟',
                  pinyin: 'niǎo',
                 meaning: 'uccello',
                category: 'animali',
                 history: 'Mostrava originariamente un uccello intero, con becco e coda.',
    
evolution: 'La forma semplificata ha ridotto le zampe e dettagli, mantenendo la silhouette.',
    
curiosity: 'Nella mitologia cinese, gli uccelli rappresentano libertà e messaggeri celesti.'
},
{
    character: '车',
                pinyin: 'chē',
                meaning: 'veicolo/carro',
                category: 'oggetti',
                 history: 'Rappresentava un carro con le ruote ai lati. Era una vista dall’alto dei veicoli primitivi.',
    
evolution: 'La forma moderna è semplificata da 車, mantenendo il concetto delle ruote e dell’asse.',
    
curiosity: 'Fondamentale nella cultura cinese antica per i trasporti e le guerre. Appare in 汽车 (automobile).'
},
{
    character: '书',
                 pinyin: 'shū',
                 meaning: 'libro/scrittura',
                category: 'oggetti',
                 history: 'Originariamente rappresentava scrivere con il pennello. La forma tradizionale 書 mostra la mano e il testo.',
    
evolution: 'Semplificata nel carattere moderno, ma conserva l’idea di scrittura e testo.',
    
curiosity: 'Elemento essenziale nella cultura letteraria cinese. Appare in 书法 (calligrafia).'
},
{
    character: '饭',
                pinyin: 'fàn',
    meaning: 'riso cotto， pasto',
               category: 'cibo',
                history: 'Originariamente rappresentava il riso cotto, alimento base della dieta cinese.',
    
evolution: 'Ha mantenuto una forma semplice, con il radicale di cereale a sinistra.',
    
curiosity: 'Il carattere è usato anche in espressioni per pasti, come 吃饭 (mangiare).'
},
{
    character: '茶',
                pinyin: 'chá',
                meaning: 'tè',
                category: 'cibo',
                history: 'Rappresenta la pianta del tè e la bevanda che se ne ricava, molto tradizionale in Cina.',
   
evolution: 'La forma si è stabilizzata nel tempo, mantenendo elementi legati alla pianta.',
    
curiosity: 'Il tè è centrale nella cultura cinese. La parola appare in molte espressioni sociali e cerimonie.'
},
{
    character: '肉',
                 pinyin: 'ròu',
                 meaning: 'carne',
                category: 'cibo',
                history: 'Rappresenta un pezzo di carne, mostrando muscoli e tessuti.',
   
 evolution: 'La forma tradizionale è stata semplificata ma ancora riconoscibile.',
    
curiosity: 'Carne è considerata una fonte importante di nutrimento e appare in molte ricette.'
},
{
    character: '鱼',
                 pinyin: 'yú',
                 meaning: 'pesce',
                category: 'cibo',
                history: 'Rappresenta il pesce, un alimento fondamentale nelle cucine cinesi.',
    
evolution: 'Ha mantenuto la forma base del pesce semplificando i dettagli.',
    
curiosity: 'Il pesce è simbolo di abbondanza e prosperità, particolarmente presente a Capodanno.'
},
{
    character: '果',
                  pinyin: 'guǒ',
                 meaning: 'frutta',
                category: 'cibo',
                 history: 'Indica il frutto maturo di una pianta, simbolo di raccolto e dolcezza.',
    
evolution: 'La forma si è semplificata mantenendo il nucleo del significato.',
    
curiosity: 'Spesso usato in combinazione con nomi di frutti come 苹果 (mela).'
},
{
    character: '盐',
                 pinyin: 'yán',
                meaning: 'sale',
               category: 'cibo',
                history: 'Rappresenta il sale, essenziale nella cucina e conservazione del cibo.',
    
evolution: 'Il carattere ha mantenuto una forma stabile con il radicale del sale.',
    
curiosity: 'Il sale aveva valore prezioso nella storia cinese, anche come mezzo di scambio.'
},
{
    character: '米',
                pinyin: 'mǐ',
                meaning: 'riso non cotto, granello',
               category: 'cibo',
               history: 'Indica il riso grezzo, uno dei cereali più coltivati in Cina.',
    evolution: 'La forma è rimasta semplice e riconoscibile come grano.',

curiosity: 'Elemento fondamentale nella dieta e nelle festività cinesi.'
},
{
    character: '油',
                pinyin: 'yóu',
                meaning: 'olio',
               category: 'cibo',
               history: 'Rappresenta l’olio, un grasso usato per cucinare e condire.',

evolution: 'Mantenuto il radicale dell’olio con una forma semplificata.',

curiosity: 'Usato tradizionalmente come base per molti piatti cinesi.'
},
{
    character: '酒',
                 pinyin: 'jiǔ',
                meaning: 'vino, bevanda alcolica',
               category: 'cibo',
                history: 'Indica bevande fermentate, dal vino al liquore.',
    
evolution: 'La forma tradizionale è complessa ma riconosciuta.',
    
curiosity: 'Le bevande alcoliche hanno un ruolo importante nelle cerimonie.'
},
{
    character: '面',
                pinyin: 'miàn',
               meaning: 'farina, noodle',
               category: 'cibo',
               history: 'Rappresenta sia la farina che i noodles, prodotti comuni nella cucina cinese.',
    
evolution: 'La forma si è semplificata da antichi simboli di cereali.',
    
curiosity: 'Elemento centrale nei pasti, soprattutto nel nord della Cina.'
}
        ];

        let filteredIdeograms = [...ideograms];
        let currentCategory = 'all';

        // SDK Configuration
        const defaultConfig = {
            app_title: '汉字故事 - Storie di Ideogrammi',
            subtitle: 'Scopri la storia millenaria dei caratteri cinesi',
            search_placeholder: 'Cerca un ideogramma...',
            primary_color: '#dc2626',
            secondary_color: '#f59e0b',
            surface_color: '#ffffff',
            text_color: '#374151',
            accent_color: '#22c55e'
        };

        let config = { ...defaultConfig };

        // Initialize Element SDK
        async function initializeApp() {
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (newConfig) => {
                        config = { ...newConfig };
                        updateUIFromConfig();
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.primary_color || defaultConfig.primary_color,
                                set: (value) => {
                                    config.primary_color = value;
                                    window.elementSdk.setConfig({ primary_color: value });
                                }
                            },
                            {
                                get: () => config.secondary_color || defaultConfig.secondary_color,
                                set: (value) => {
                                    config.secondary_color = value;
                                    window.elementSdk.setConfig({ secondary_color: value });
                                }
                            },
                            {
                                get: () => config.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    config.surface_color = value;
                                    window.elementSdk.setConfig({ surface_color: value });
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    config.text_color = value;
                                    window.elementSdk.setConfig({ text_color: value });
                                }
                            },
                            {
                                get: () => config.accent_color || defaultConfig.accent_color,
                                set: (value) => {
                                    config.accent_color = value;
                                    window.elementSdk.setConfig({ accent_color: value });
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ['app_title', config.app_title || defaultConfig.app_title],
                        ['subtitle', config.subtitle || defaultConfig.subtitle],
                        ['search_placeholder', config.search_placeholder || defaultConfig.search_placeholder]
                    ])
                });
            }

            updateUIFromConfig();
            renderIdeograms();
        }

        function updateUIFromConfig() {
            document.getElementById('app-title').textContent = config.app_title || defaultConfig.app_title;
            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('search-input').placeholder = config.search_placeholder || defaultConfig.search_placeholder;

            // Apply colors
            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;

            // Update header gradient
            document.querySelector('header .bg-gradient-to-r').style.background = 
                `linear-gradient(to right, ${primaryColor}, ${secondaryColor})`;

            // Update surface colors
            document.querySelectorAll('.bg-white').forEach(el => {
                el.style.backgroundColor = surfaceColor;
            });

            // Update text colors
            document.querySelectorAll('.text-gray-800, .text-gray-700, .text-gray-600').forEach(el => {
                el.style.color = textColor;
            });
        }

        function renderIdeograms() {
            const grid = document.getElementById('ideograms-grid');
            grid.innerHTML = '';

            filteredIdeograms.forEach(ideogram => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-lg p-6 card-hover cursor-pointer fade-in scroll-shadow';
                card.onclick = () => openModal(ideogram);

                const categoryColors = {
                    natura: 'bg-green-100 text-green-800',
                    animali: 'bg-yellow-100 text-yellow-800',
                    corpo: 'bg-pink-100 text-pink-800',
                    casa: 'bg-blue-100 text-blue-800',
                    oggetti: 'bg-red-100 text-red-800',
                    cibo: 'bg-yellow-100 text-yellow-800',
                    numeri: 'bg-purple-100 text-purple-800'
                };

                card.innerHTML = `
                    <div class="text-center">
                        <div class="text-6xl chinese-char mb-3 text-red-600">${ideogram.character}</div>
                        <div class="text-lg text-gray-600 mb-2">${ideogram.pinyin}</div>
                        <div class="text-lg font-semibold text-gray-800 mb-3">${ideogram.meaning}</div>
                        <div class="inline-block px-3 py-1 rounded-full text-xs font-medium ${categoryColors[ideogram.category] || 'bg-gray-100 text-gray-800'}">
                            ${getCategoryEmoji(ideogram.category)} ${getCategoryName(ideogram.category)}
                        </div>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        function getCategoryEmoji(category) {
            const emojis = {
                natura: '🌿',
                animali: '🐅',
                corpo: '👤',
                casa: '🏠',
                oggetti: '📒',
                cibo: '🥡',
                numeri: '🔢'
            };
            return emojis[category] || '📝';
        }

        function getCategoryName(category) {
            const names = {
                natura: 'Natura',
                animali: 'Animali',
                corpo: 'Corpo',
                casa: 'Casa',
                oggetti: 'Oggetti',
                cibo: 'Cibo',
                numeri: 'Numeri'
            };
            return names[category] || 'Altro';
        }

        function filterByCategory(category) {
            currentCategory = category;
            
            // Update button styles
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-red-600', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
            });
            
            event.target.classList.remove('bg-gray-100', 'text-gray-800', 'hover:bg-gray-200');
            event.target.classList.add('active', 'bg-red-600', 'text-white');

            if (category === 'all') {
                filteredIdeograms = [...ideograms];
            } else {
                filteredIdeograms = ideograms.filter(ideogram => ideogram.category === category);
            }

            renderIdeograms();
        }

        function filterIdeograms() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            
            let baseIdeograms = currentCategory === 'all' ? ideograms : 
                ideograms.filter(ideogram => ideogram.category === currentCategory);

            if (searchTerm) {
                filteredIdeograms = baseIdeograms.filter(ideogram =>
                    ideogram.character.includes(searchTerm) ||
                    ideogram.pinyin.toLowerCase().includes(searchTerm) ||
                    ideogram.meaning.toLowerCase().includes(searchTerm)
                );
            } else {
                filteredIdeograms = baseIdeograms;
            }

            renderIdeograms();
        }

        function openModal(ideogram) {
            document.getElementById('modal-character').textContent = ideogram.character;
            document.getElementById('modal-pinyin').textContent = ideogram.pinyin;
            document.getElementById('modal-meaning').textContent = ideogram.meaning;
            document.getElementById('modal-history').textContent = ideogram.history;
            document.getElementById('modal-evolution').textContent = ideogram.evolution;
            document.getElementById('modal-curiosity').textContent = ideogram.curiosity;
            
            document.getElementById('ideogram-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('ideogram-modal').classList.add('hidden');
        }

        // Close modal when clicking outside
        document.getElementById('ideogram-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9956264d225fed90',t:'MTc2MTYwOTU5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>